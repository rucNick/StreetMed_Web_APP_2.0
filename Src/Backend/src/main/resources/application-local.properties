# Local Development Configuration
spring.application.name=StreetMed_Backend
server.port=8080
server.address=localhost
server.shutdown=graceful

# Session Configuration
spring.session.timeout=30m
server.servlet.session.timeout=30m

# Local MySQL Database Configuration
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
spring.datasource.url=jdbc:mysql://localhost:3306/streetmed?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true&createDatabaseIfNotExist=true
spring.datasource.username=streetmed_user
spring.datasource.password=streetmed_password

# CORS configuration for local development
cors.allowed-origins=http://localhost:3000,http://127.0.0.1:3000

# Hikari Connection Pool Configuration (optimized for local development)
spring.datasource.hikari.pool-name=LocalMySQLHikariCP
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.maximum-pool-size=5
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.connection-timeout=20000
spring.datasource.hikari.validation-timeout=5000
spring.datasource.hikari.max-lifetime=1200000
spring.datasource.hikari.auto-commit=true
spring.datasource.hikari.connection-test-query=SELECT 1
spring.datasource.hikari.leak-detection-threshold=60000

# JPA Configuration for MySQL
spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect
spring.jpa.show-sql=true
spring.jpa.hibernate.ddl-auto=update
spring.jpa.open-in-view=false
spring.jpa.properties.hibernate.format_sql=true

# Enable SQL logging for development
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.orm.jdbc.bind=TRACE
logging.level.org.hibernate.orm.connections.pooling=WARN

# Transaction Configuration
spring.jpa.properties.hibernate.current_session_context_class=thread

# Multithreading Configuration
spring.task.execution.pool.core-size=4
spring.task.execution.pool.max-size=8
spring.task.execution.pool.queue-capacity=100
spring.task.execution.thread-name-prefix=StreetMed-Task-
spring.task.execution.shutdown.await-termination=true
spring.task.execution.shutdown.await-termination-period=20s

# Graceful Shutdown
spring.lifecycle.timeout-per-shutdown-phase=20s

# Swagger UI path
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.api-docs.path=/api-docs

# Local MongoDB Configuration
spring.data.mongodb.uri=mongodb://localhost:27017/streetmed
spring.data.mongodb.database=streetmed

# File upload settings
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# Email Configuration (you can use the same or test credentials)
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=streetmedgo@gmail.com
spring.mail.password=zmcjlhadinbhddfe
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# Client Authentication Configuration
security.client.authentication.key=street-med-client-authentication-key
security.client.validation.relaxed=true

# Development-specific settings
management.endpoints.web.exposure.include=health,info,env,beans
management.endpoint.health.show-details=always

# Enable development tools
spring.devtools.restart.enabled=true
spring.devtools.livereload.enabled=true